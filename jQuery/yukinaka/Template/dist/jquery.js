(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

(function () {

  var $ = function $(selector, context) {
    return new Core(selector, context);
  };

  $.isArray = require('./isArray');
  $.each = require('./each');

  var Core = function Core(selector, context) {
    context = context || document;
    var elems = context.querySelectorAll(selector);
    Array.prototype.push.apply(this, elems);
    this.context = context;
    this.selector = selector;
    return this;
  },
      rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

  Core.prototype = {
    trim: function trim(text) {
      if (text === null) {
        text = '';
      } else {
        text = (text + '').replace(rtrim, '');
      }
      return text;
    },
    addClass: function addClass(name) {
      var cName = this.trim(name);

      for (var i = 0; i < this.length; i++) {
        var classArray = this[i].className.split(' ');
        if (classArray.indexOf(cName) > -1) {
          continue;
        }
        if (classArray[0] === '') {
          classArray[0] = cName;
        } else {
          classArray.push(cName);
        }
        this[i].className = classArray.join(' ');
      }
      return this;
    },
    removeClass: function removeClass(name) {
      var cName = this.trim(name);
      for (var i = 0; i < this.length; i++) {
        var classArray = this[i].className.split(' '),
            index = classArray.indexOf(cName);
        if (index <= -1) {
          continue;
        }
        classArray.splice(index, 1);
        this[i].className = classArray.join(' ');
      }
      return this;
    },

    css: function css() {},

    each: function each(callback) {
      var i = 0,
          l = this.length;
      for (; i < l; i++) {
        callback.call(this, this[i], i);
      }
    },

    get: function get(index) {
      var ret = [],
          l = this.length;
      for (var i = 0; i < l; i++) {
        ret.push(this[i]);
      }
      if (typeof index === 'number') {
        ret = ret[index];
      }
      return ret;
    },

    splice: Array.prototype.splice

  };

  window.$ = $;

  require('./test');

  $('div').removeClass('hoge');
})();

},{"./each":2,"./isArray":3,"./test":4}],2:[function(require,module,exports){
"use strict";

module.exports = function (obj, callback) {
  if ($.isArray(obj)) {
    var i = 0,
        l = obj.length;
    for (; i < l; i++) {
      callback(obj[i], i);
    }
  } else {
    for (var key in obj) {
      callback(key, obj[key]);
    }
  }
};

},{}],3:[function(require,module,exports){
"use strict";

module.exports = function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

},{}],4:[function(require,module,exports){
'use strict';

$.each(['a', 'b', 'c'], function (e, i) {
  console.log(e, i);
});

$.each({
  a: 'apple',
  b: 'banana',
  c: 'chocolate'
}, function (k, v) {
  console.log(k, v);
});

console.log($('body'));
console.log($('div'));
console.log($('div').get());
console.log($('div').get(0));
//$('body').addClass('hoge');
$('div').each(function (e, i) {
  console.log(e);
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvdXUwNjIxMzkvd29ya3MvaW50ZXJtZWRpYXRlL2pRdWVyeS95dWtpbmFrYS9UZW1wbGF0ZS9zcmMvanF1ZXJ5LmpzIiwiL1VzZXJzL3V1MDYyMTM5L3dvcmtzL2ludGVybWVkaWF0ZS9qUXVlcnkveXVraW5ha2EvVGVtcGxhdGUvc3JjL2VhY2guanMiLCIvVXNlcnMvdXUwNjIxMzkvd29ya3MvaW50ZXJtZWRpYXRlL2pRdWVyeS95dWtpbmFrYS9UZW1wbGF0ZS9zcmMvaXNBcnJheS5qcyIsIi9Vc2Vycy91dTA2MjEzOS93b3Jrcy9pbnRlcm1lZGlhdGUvalF1ZXJ5L3l1a2luYWthL1RlbXBsYXRlL3NyYy90ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxDQUFDLFlBQVk7O0FBRVgsTUFBSSxDQUFDLEdBQUcsU0FBSixDQUFDLENBQWEsUUFBUSxFQUFFLE9BQU8sRUFBRTtBQUNuQyxXQUFPLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNwQyxDQUFBOztBQUVELEdBQUMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pDLEdBQUMsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUUzQixNQUFJLElBQUksR0FBRyxTQUFQLElBQUksQ0FBYSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ3RDLFdBQU8sR0FBRyxPQUFPLElBQUksUUFBUSxDQUFDO0FBQzlCLFFBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxTQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRSxDQUFDO0FBQzFDLFFBQUksQ0FBQyxPQUFPLEdB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LEtBQUssZ0JBQWdCLENBQUM7Q0FDakUsQ0FBQTs7Ozs7QUNGRCxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEMsU0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDbkIsQ0FBQyxDQUFDOztBQUVILENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDTCxHQUFDLEVBQUUsT0FBTztBQUNWLEdBQUMsRUFBRSxRQUFRO0FBQ1gsR0FBQyxFQUFFLFdBQVc7Q0FDZixFQUFFLFVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBSztBQUNYLFNBQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ25CLENBQUMsQ0FBQzs7QUFFSCxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFN0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDNUIsU0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNoQixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgJCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgQ29yZShzZWxlY3RvciwgY29udGV4dCk7XG4gIH1cblxuICAkLmlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKTtcbiAgJC5lYWNoID0gcmVxdWlyZSgnLi9lYWNoJyk7XG5cbiAgdmFyIENvcmUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcbiAgICB2YXIgZWxlbXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KCB0aGlzLCBlbGVtcyApO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7XG5cbiAgQ29yZS5wcm90b3R5cGUgPSB7XG4gICAgdHJpbTogZnVuY3Rpb24odGV4dCkge1xuICAgICAgaWYodGV4dCA9PT0gbnVsbCkge1xuICAgICAgICB0ZXh0ID0gXCJcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9ICh0ZXh0ICsgXCJcIikucmVwbGFjZShydHJpbSwgXCJcIilcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0XG4gICAgfSxcbiAgICBhZGRDbGFzczogZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGNOYW1lID0gdGhpcy50cmltKG5hbWUpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNsYXNzQXJyYXkgPSB0aGlzW2ldLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBpZihjbGFzc0FycmF5LmluZGV4T2YoY05hbWUpID4gLTEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZihjbGFzc0FycmF5WzBdID09PSAnJykge1xuICAgICAgICAgIGNsYXNzQXJyYXlbMF0gPSBjTmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGFzc0FycmF5LnB1c2goY05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbaV0uY2xhc3NOYW1lID0gY2xhc3NBcnJheS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgY05hbWUgPSB0aGlzLnRyaW0obmFtZSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNsYXNzQXJyYXkgPSB0aGlzW2ldLmNsYXNzTmFtZS5zcGxpdCgnICcpLFxuICAgICAgICAgICAgaW5kZXggPSBjbGFzc0FycmF5LmluZGV4T2YoY05hbWUpO1xuICAgICAgICBpZihpbmRleCA8PSAtMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpc1tpXS5jbGFzc05hbWUgPSBjbGFzc0FycmF5LmpvaW4oJyAnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBjc3M6IGZ1bmN0aW9uICgpIHtcbiAgICB9LFxuXG4gICAgZWFjaDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgbCA9IHRoaXMubGVuZ3RoO1xuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzW2ldLCBpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciByZXQgPSBbXSxcbiAgICAgICAgICBsID0gdGhpcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXQucHVzaCh0aGlzW2ldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldCA9IHJldFtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBzcGxpY2U6IEFycmF5LnByb3RvdHlwZS5zcGxpY2VcblxuICB9XG5cbiAgd2luZG93LiQgPSAkO1xuXG4gIHJlcXVpcmUoJy4vdGVzdCcpO1xuXG4gICQoJ2RpdicpLnJlbW92ZUNsYXNzKCdob2dlJyk7XG59KSgpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAoJC5pc0FycmF5KG9iaikpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGwgPSBvYmoubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhvYmpbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBjYWxsYmFjayhrZXksIG9ialtrZXldKTtcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbn1cbiIsIiQuZWFjaChbJ2EnLCAnYicsICdjJ10sIGZ1bmN0aW9uIChlLCBpKSB7XG4gIGNvbnNvbGUubG9nKGUsIGkpO1xufSk7XG5cbiQuZWFjaCh7XG4gIGE6ICdhcHBsZScsXG4gIGI6ICdiYW5hbmEnLFxuICBjOiAnY2hvY29sYXRlJ1xufSwgKGssIHYpID0+IHtcbiAgY29uc29sZS5sb2coaywgdik7XG59KTtcblxuY29uc29sZS5sb2coJCgnYm9keScpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgwKSk7XG4vLyQoJ2JvZHknKS5hZGRDbGFzcygnaG9nZScpO1xuJCgnZGl2JykuZWFjaChmdW5jdGlvbiAoZSwgaSkge1xuICBjb25zb2xlLmxvZyhlKTtcbn0pO1xuIl19
