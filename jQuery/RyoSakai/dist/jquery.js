(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

module.exports = function (obj, callback) {
  if ($.isArray(obj)) {
    var i = 0,
        l = obj.length;
    for (; i < l; i++) {
      callback(obj[i], i);
    }
  } else {
    for (var key in obj) {
      callback(key, obj[key]);
    }
  }
};

},{}],2:[function(require,module,exports){
"use strict";

module.exports = function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

},{}],3:[function(require,module,exports){
'use strict';

(function () {

  var $ = function $(selector, context) {
    return new Core(selector, context);
  };

  $.isArray = require('./isArray');
  $.each = require('./each');

  var Core = function Core(selector, context) {
    context = context || document;
    var elems = context.querySelectorAll(selector);
    Array.prototype.push.apply(this, elems);
    this.context = context;
    this.selector = selector;
    return this;
  };

  Core.prototype = {

    trim_full: function trim_full(text) {
      return text.replace(/^[¥s ]+|[¥s ]+$/g, '');
    },

    toggleClass: function toggleClass(name, mode_value) {
      var mode = mode_value || 0;
      var set_list = this.trim_full(name).split(' ');
      var elem, setName, base_list, index;
      for (var i = 0, len = this.length; i < len; i++) {
        elem = this[i];
        if (elem.nodeType !== 1) {
          continue;
        }

        if (this.trim_full(elem.className) == '') {
          base_list = [];
        } else {
          base_list = elem.className.split(' ');
        }

        for (var j = 0, l = set_list.length; j < l; j++) {
          setName = this.trim_full(set_list[j]);
          if (setName == '') {
            continue;
          }

          index = base_list.indexOf(setName);
          if (mode == 1 && index > -1 || mode == 2 && index < 0) {
            continue;
          } else if (!mode) {
            index < 0 ? mode = 1 : mode = 2;
          }

          if (mode == 1) {
            base_list.push(setName);
          } else {
            base_list.splice(index, 1);
          }
        }
        elem.className = base_list.join(' ');
      }
      return this;
    },

    addClass: function addClass(name) {
      return this.toggleClass(name, 1);
    },

    removeClass: function removeClass(name) {
      return this.toggleClass(name, 2);
    },

    find: function find(name) {
      var count = 0;
      for (var i = 0, len = this.length; i < len; i++) {
        var elem = this[i];
        var elems = elem.querySelectorAll(name);
        for (var j = 0, l = elems.length; j < l; j++) {
          this[count++] = elems[j];
        }
      }

      this.selector = name;
      if (count > 0 && len > count) {
        this.splice(count, len - count);
      }

      console.log(this);
      return this;
    },

    css: function css() {},

    each: function each(callback) {
      var i = 0,
          l = this.length;
      for (; i < l; i++) {
        callback.call(this, this[i], i);
      }
    },

    get: function get(index) {
      var ret = [],
          l = this.length;
      for (var i = 0; i < l; i++) {
        ret.push(this[i]);
      }
      if (typeof index === 'number') {
        ret = ret[index];
      }
      return ret;
    },

    splice: Array.prototype.splice

  };

  window.$ = $;

  require('./test');
})();

},{"./each":1,"./isArray":2,"./test":4}],4:[function(require,module,exports){
'use strict';

$.each(['a', 'b', 'c'], function (e, i) {
  console.log(e, i);
});
/*
$.each({
  a: 'apple',
  b: 'banana',
  c: 'chocolate'
}, (k, v) => {
  console.log(k, v);
});

console.log($('body'));
console.log($('div'));
console.log($('div').get());
console.log($('div').get(0));
//$('body').addClass('hoge');
$('div').each(function (e, i) {
  console.log(e);
});
*/
//var a = ['','a'];
//console.log(a.join(' '));
//console.log($('body').addClass('test1 test2').removeClass('test1'));
//console.log($('div').addClass('test1 test2 test3').removeClass('test2'));
//console.log($('div').addClass('test2 test3').toggleClass('test1'));

$('div').find('ul');

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc2FrYWlyeW8vd29yay9JbnRlcm1lZGlhdGUvalF1ZXJ5L1J5b1Nha2FpL3NyYy9lYWNoLmpzIiwiL1VzZXJzL3Nha2FpcnlvL3dvcmsvSW50ZXJtZWRpYXRlL2pRdWVyeS9SeW9TYWthaS9zcmMvaXNBcnJheS5qcyIsIi9Vc2Vycy9zYWthaXJ5by93b3JrL0ludGVybWVkaWF0ZS9qUXVlcnkvUnlvU2FrYWkvc3JjL2pxdWVyeS5qcyIsIi9Vc2Vycy9zYWthaXJ5by93b3JrL0ludGVybWVkaWF0ZS9qUXVlcnkvUnlvU2FrYWkvc3JjL3Rlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUUsUUFBUSxFQUFFO0FBQ3hDLE1BQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNsQixRQUFJLENBQUMsR0FBRyxDQUFDO1FBQ0wsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDbkIsV0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ2pCLGNBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDckI7R0FDRixNQUFNO0FBQ0wsU0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUU7QUFDbkIsY0FBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUN6QjtHQUNGO0NBQ0YsQ0FBQTs7Ozs7QUNaRCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsR0FBRyxFQUFFO0FBQzlCLFNBQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGdCQUFnQixDQUFDO0NBQ2pFLENBQUE7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QUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEMsU0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDbkIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEJILENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAoJC5pc0FycmF5KG9iaikpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGwgPSBvYmoubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhvYmpbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBjYWxsYmFjayhrZXksIG9ialtrZXldKTtcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbn1cbiIsIihmdW5jdGlvbiAoKSB7XG5cbiAgdmFyICQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IENvcmUoc2VsZWN0b3IsIGNvbnRleHQpO1xuICB9XG5cbiAgJC5pc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5Jyk7XG4gICQuZWFjaCA9IHJlcXVpcmUoJy4vZWFjaCcpO1xuXG4gIHZhciBDb3JlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gICAgdmFyIGVsZW1zID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSggdGhpcywgZWxlbXMgKTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBDb3JlLnByb3RvdHlwZSA9IHtcblxuICAgIHRyaW1fZnVsbDogZnVuY3Rpb24odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXlvCpXMgXSt8W8KlcyBdKyQvZywgXCJcIilcbiAgICB9LFxuXG4gICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKG5hbWUsIG1vZGVfdmFsdWUpIHtcbiAgICAgIHZhciBtb2RlID0gbW9kZV92YWx1ZSB8fCAwO1xuICAgICAgdmFyIHNldF9saXN0ID0gdGhpcy50cmltX2Z1bGwobmFtZSkuc3BsaXQoJyAnKTtcbiAgICAgIHZhciBlbGVtLCBzZXROYW1lLCBiYXNlX2xpc3QsIGluZGV4O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZWxlbSA9IHRoaXNbaV07XG4gICAgICAgIGlmIChlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50cmltX2Z1bGwoZWxlbS5jbGFzc05hbWUpID09IFwiXCIpIHtcbiAgICAgICAgICBiYXNlX2xpc3QgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYXNlX2xpc3QgPSBlbGVtLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBzZXRfbGlzdC5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICBzZXROYW1lID0gdGhpcy50cmltX2Z1bGwoc2V0X2xpc3Rbal0pO1xuICAgICAgICAgIGlmIChzZXROYW1lID09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluZGV4ID0gYmFzZV9saXN0LmluZGV4T2Yoc2V0TmFtZSk7XG4gICAgICAgICAgaWYgKG1vZGUgPT0gMSAmJiBpbmRleCA+IC0xIHx8IG1vZGUgPT0gMiAmJiBpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW1vZGUpIHtcbiAgICAgICAgICAgIGluZGV4IDwgMCA/IG1vZGUgPSAxOiBtb2RlID0gMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobW9kZSA9PSAxKSB7XG4gICAgICAgICAgICBiYXNlX2xpc3QucHVzaChzZXROYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZV9saXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gYmFzZV9saXN0LmpvaW4oJyAnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBhZGRDbGFzczogZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MobmFtZSwgMSk7XG4gICAgfSxcblxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhuYW1lLCAyKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZWxlbSA9IHRoaXNbaV07XG4gICAgICAgIHZhciBlbGVtcyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbChuYW1lKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBlbGVtcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICB0aGlzW2NvdW50KytdID0gZWxlbXNbal07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWxlY3RvciA9IG5hbWU7XG4gICAgICBpZiAoY291bnQgPiAwICYmIGxlbiA+IGNvdW50KSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKGNvdW50LCBsZW4gLSBjb3VudCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGNzczogZnVuY3Rpb24gKCkge1xuICAgIH0sXG5cbiAgICBlYWNoOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICBsID0gdGhpcy5sZW5ndGg7XG4gICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXNbaV0sIGkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHJldCA9IFtdLFxuICAgICAgICAgIGwgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJldC5wdXNoKHRoaXNbaV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0ID0gcmV0W2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcblxuICAgIHNwbGljZTogQXJyYXkucHJvdG90eXBlLnNwbGljZVxuXG4gIH1cblxuICB3aW5kb3cuJCA9ICQ7XG5cbiAgcmVxdWlyZSgnLi90ZXN0Jyk7XG5cbn0pKCk7XG4iLCJcbiQuZWFjaChbJ2EnLCAnYicsICdjJ10sIGZ1bmN0aW9uIChlLCBpKSB7XG4gIGNvbnNvbGUubG9nKGUsIGkpO1xufSk7XG4vKlxuJC5lYWNoKHtcbiAgYTogJ2FwcGxlJyxcbiAgYjogJ2JhbmFuYScsXG4gIGM6ICdjaG9jb2xhdGUnXG59LCAoaywgdikgPT4ge1xuICBjb25zb2xlLmxvZyhrLCB2KTtcbn0pO1xuXG5jb25zb2xlLmxvZygkKCdib2R5JykpO1xuY29uc29sZS5sb2coJCgnZGl2JykpO1xuY29uc29sZS5sb2coJCgnZGl2JykuZ2V0KCkpO1xuY29uc29sZS5sb2coJCgnZGl2JykuZ2V0KDApKTtcbi8vJCgnYm9keScpLmFkZENsYXNzKCdob2dlJyk7XG4kKCdkaXYnKS5lYWNoKGZ1bmN0aW9uIChlLCBpKSB7XG4gIGNvbnNvbGUubG9nKGUpO1xufSk7XG4qL1xuLy92YXIgYSA9IFsnJywnYSddO1xuLy9jb25zb2xlLmxvZyhhLmpvaW4oJyAnKSk7XG4vL2NvbnNvbGUubG9nKCQoJ2JvZHknKS5hZGRDbGFzcygndGVzdDEgdGVzdDInKS5yZW1vdmVDbGFzcygndGVzdDEnKSk7XG4vL2NvbnNvbGUubG9nKCQoJ2RpdicpLmFkZENsYXNzKCd0ZXN0MSB0ZXN0MiB0ZXN0MycpLnJlbW92ZUNsYXNzKCd0ZXN0MicpKTtcbi8vY29uc29sZS5sb2coJCgnZGl2JykuYWRkQ2xhc3MoJ3Rlc3QyIHRlc3QzJykudG9nZ2xlQ2xhc3MoJ3Rlc3QxJykpO1xuXG5cbiQoJ2RpdicpLmZpbmQoJ3VsJyk7XG5cbiJdfQ==
