(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

(function () {

  //contextの中からselectorを探すよ contextはdom
  var $ = function $(selector, context) {
    return new Core(selector, context);
  };

  $.isArray = require('./isArray');
  $.each = require('./each');

  var Core = function Core(selector, context) {
    context = context || document; //contextがなかったらdocumentが入る
    var elems = context.querySelectorAll(selector);
    Array.prototype.push.apply(this, elems);
    //Arraylikeオブジェクト オブジェクトなのに配列のようにpush、参照などをするやり方

    this.context = context;
    this.selector = selector;
    return this;
    //core　
  };

  var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

  Core.prototype = {

    each: function each(callback) {
      var i = 0,
          l = this.length;
      for (; i < l; i++) {
        callback.call(this, this[i], i);
      }
    },

    get: function get(index) {
      var ret = [],
          l = this.length;
      for (var i = 0; i < l; i++) {
        //数字の時のみオリジナルのdomを取得するため
        ret.push(this[i]);
      }
      if (typeof index === 'number') {
        ret = ret[index];
      }
      return ret;
    },

    //text: function(e) {
    //  var t = "";
    //  for ( var j = 0; j < e.length; j++ ) {
    //    var r = e[j].childNodes;
    //    for ( var i = 0; i < r.length; i++ )
    //      //t += r[i].nodeType != 1 ?
    //      //    r[i].nodeValue : jQuery.fn.text([ r[i] ]);
    //      console.log(r);
    //  }
    //  return t;
    //},

    trim: function trim(text) {
      var rtext;
      rtext = '';
      if (text !== null) {
        rtext = (text + '').replace(rtrim, '');
      }
      return rtext;
    },
    addClass: function addClass(v) {
      var cName, classArr, i;
      v = this.trim(v);
      for (var k = 0; k < this.length; k++) {
        i = this[k];
        cName = this.trim(i.className);
        classArr = cName.split(' ');
        if (classArr.indexOf(v) > -1) {
          continue;
        }
        if (classArr[0] === '') {
          classArr[0] = v;
        } else {
          classArr.push(v);
        }
        /*class追加処理*/
        if (classArr.length === 1) {
          i.className = classArr[0];
        } else {
          i.className = classArr.join(' ');
        }
        //console.log(classArr);
      }
      return this;
    },

    removeClass: function removeClass(v) {
      var cName, classArr, clearArr, k, i, m, j;
      v = this.trim(v);
      //console.log(v);
      for (k = 0; k < this.length; k++) {
        i = this[k];
        console.log(i);
        cName = this.trim(i.className);
        classArr = cName.split(' ');
        if (classArr.indexOf(v) === -1) {
          continue;
        }

        clearArr = [];
        for (j = 0; j < classArr.length; j++) {
          m = classArr[j];
          if (m !== v && m !== '') {
            clearArr.push(m);
          }
        }
        i.className = clearArr.join(' ');
      }

      return this;
    },

    splice: Array.prototype.splice

  };

  window.$ = $;

  require('./test');
})();

},{"./each":2,"./isArray":3,"./test":4}],2:[function(require,module,exports){
"use strict";

module.exports = function (obj, callback) {
  if ($.isArray(obj)) {
    var i = 0,
        l = obj.length;
    for (; i < l; i++) {
      callback(obj[i], i);
    }
  } else {
    for (var key in obj) {
      callback(key, obj[key]);
    }
  }
};

},{}],3:[function(require,module,exports){
"use strict";

module.exports = function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

},{}],4:[function(require,module,exports){
'use strict';

$.each(['a', 'b', 'c'], function (e, i) {
  console.log(e, i);
});

$.each({
  a: 'apple',
  b: 'banana',
  c: 'chocolate'
}, function (k, v) {
  console.log(k, v);
});

console.log($('body'));
console.log($('div'));
console.log($('div').get());
console.log($('div').get(0));
//$('body').addClass('hoge');
$('div').each(function (e, i) {
  console.log(e);
});

//$('div').addClass('zaaazazaza');
$('div').removeClass('cccc ');

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvdXUwNzIzODIvSW50ZXJtZWRpYXRlL2pRdWVyeS9oaWRlZ2l0YWwvc3JjL2pxdWVyeS5qcyIsIi9Vc2Vycy91dTA3MjM4Mi9JbnRlcm1lZGlhdGUvalF1ZXJ5L2hpZGVnaXRhbC9zcmMvZWFjaC5qcyIsIi9Vc2Vycy91dTA3MjM4Mi9JbnRlcm1lZGlhdGUvalF1ZXJ5L2hpZGVnaXRhbC9zcmMvaXNBcnJheS5qcyIsIi9Vc2Vycy91dTA3MjM4Mi9JbnRlcm1lZGlhdGUvalF1ZXJ5L2hpZGVnaXRhbC9zcmMvdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsQ0FBQyxZQUFZOzs7QUFJWCxNQUFJLENBQUMsR0FBRyxTQUFKLENBQUMsQ0FBYSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ25DLFdBQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ3BDLENBQUE7O0FBRUQsR0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakMsR0FBQyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTNCLE1BQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFhLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDdEMsV0FBTyxHQUFHLE9BQU8sSUFBSSxRQUFRLENBQUM7QUFDOUIsUUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQy9DLFNBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBRSxJQUFJLEVBQUUsS0FBSyxDQUFFLENBQUM7OztBQUcxQyxRQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUN2QixRQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUN6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Q0FBQyxDQUFDO0FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFN0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDNUIsU0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNoQixDQUFDLENBQUM7OztBQUdILENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uICgpIHtcblxuXG4gIC8vY29udGV4dOOBruS4reOBi+OCiXNlbGVjdG9y44KS5o6i44GZ44KIIGNvbnRleHTjga9kb21cbiAgdmFyICQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IENvcmUoc2VsZWN0b3IsIGNvbnRleHQpO1xuICB9XG5cbiAgJC5pc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5Jyk7XG4gICQuZWFjaCA9IHJlcXVpcmUoJy4vZWFjaCcpO1xuXG4gIHZhciBDb3JlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7IC8vY29udGV4dOOBjOOBquOBi+OBo+OBn+OCiWRvY3VtZW5044GM5YWl44KLXG4gICAgdmFyIGVsZW1zID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSggdGhpcywgZWxlbXMgKTtcbiAgICAvL0FycmF5bGlrZeOCquODluOCuOOCp+OCr+ODiCDjgqrjg5bjgrjjgqfjgq/jg4jjgarjga7jgavphY3liJfjga7jgojjgYbjgatwdXNo44CB5Y+C54Wn44Gq44Gp44KS44GZ44KL44KE44KK5pa5XG5cbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgICAvL2NvcmXjgIBcbiAgfTtcblxuICB2YXIgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7XG5cbiAgQ29yZS5wcm90b3R5cGUgPSB7XG5cbiAgICBlYWNoOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICBsID0gdGhpcy5sZW5ndGg7XG4gICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXNbaV0sIGkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHJldCA9IFtdLFxuICAgICAgICAgIGwgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7ICAvL+aVsOWtl+OBruaZguOBruOBv+OCquODquOCuOODiuODq+OBrmRvbeOCkuWPluW+l+OBmeOCi+OBn+OCgVxuICAgICAgICByZXQucHVzaCh0aGlzW2ldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldCA9IHJldFtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICAvL3RleHQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgdmFyIHQgPSBcIlwiO1xuICAgIC8vICBmb3IgKCB2YXIgaiA9IDA7IGogPCBlLmxlbmd0aDsgaisrICkge1xuICAgIC8vICAgIHZhciByID0gZVtqXS5jaGlsZE5vZGVzO1xuICAgIC8vICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKysgKVxuICAgIC8vICAgICAgLy90ICs9IHJbaV0ubm9kZVR5cGUgIT0gMSA/XG4gICAgLy8gICAgICAvLyAgICByW2ldLm5vZGVWYWx1ZSA6IGpRdWVyeS5mbi50ZXh0KFsgcltpXSBdKTtcbiAgICAvLyAgICAgIGNvbnNvbGUubG9nKHIpO1xuICAgIC8vICB9XG4gICAgLy8gIHJldHVybiB0O1xuICAgIC8vfSxcblxuICAgIHRyaW06IGZ1bmN0aW9uIHRyaW0odGV4dCkge1xuICAgICAgdmFyIHJ0ZXh0O1xuICAgICAgcnRleHQgPSAnJztcbiAgICAgIGlmICh0ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgIHJ0ZXh0ID0gKHRleHQgKyAnJykucmVwbGFjZShydHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJ0ZXh0O1xuICAgIH0sXG4gICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIGFkZENsYXNzKHYpIHtcbiAgICAgIHZhciBjTmFtZSxcbiAgICAgICAgICBjbGFzc0FycixcbiAgICAgICAgICBpO1xuICAgICAgdiA9IHRoaXMudHJpbSh2KTtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICBpID0gdGhpc1trXTtcbiAgICAgICAgY05hbWUgPSB0aGlzLnRyaW0oaS5jbGFzc05hbWUpO1xuICAgICAgICBjbGFzc0FyciA9IGNOYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgIGlmIChjbGFzc0Fyci5pbmRleE9mKHYpID4gLTEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xhc3NBcnJbMF0gPT09ICcnKSB7XG4gICAgICAgICAgY2xhc3NBcnJbMF0gPSB2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsYXNzQXJyLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgICAgLypjbGFzc+i/veWKoOWHpueQhiovXG4gICAgICAgIGlmKGNsYXNzQXJyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGkuY2xhc3NOYW1lID0gY2xhc3NBcnJbMF07XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICBpLmNsYXNzTmFtZSA9IGNsYXNzQXJyLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKGNsYXNzQXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3Modikge1xuICAgICAgdmFyIGNOYW1lLFxuICAgICAgICAgIGNsYXNzQXJyLFxuICAgICAgICAgIGNsZWFyQXJyLFxuICAgICAgICAgIGssXG4gICAgICAgICAgaSxcbiAgICAgICAgICBtLFxuICAgICAgICAgIGo7XG4gICAgICB2ID0gdGhpcy50cmltKHYpO1xuICAgICAgLy9jb25zb2xlLmxvZyh2KTtcbiAgICAgIGZvciAoayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGkgPSB0aGlzW2tdO1xuICAgICAgICBjb25zb2xlLmxvZyhpKTtcbiAgICAgICAgY05hbWUgPSB0aGlzLnRyaW0oaS5jbGFzc05hbWUpO1xuICAgICAgICBjbGFzc0FyciA9IGNOYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgIGlmIChjbGFzc0Fyci5pbmRleE9mKHYpID09PSAtMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJBcnIgPSBbXTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGNsYXNzQXJyLmxlbmd0aDsgaisrICkge1xuICAgICAgICAgIG0gPSBjbGFzc0FycltqXTtcbiAgICAgICAgICBpZiAobSAhPT0gdiAmJiBtICE9PSAnJyApIHtcbiAgICAgICAgICAgIGNsZWFyQXJyLnB1c2gobSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkuY2xhc3NOYW1lID0gY2xlYXJBcnIuam9pbignICcpO1xuICAgICAgfVxuXG5cbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfSxcblxuXG4gICAgc3BsaWNlOiBBcnJheS5wcm90b3R5cGUuc3BsaWNlXG5cbiAgfVxuXG4gIHdpbmRvdy4kID0gJDtcblxuICByZXF1aXJlKCcuL3Rlc3QnKTtcblxuXG59KSgpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAoJC5pc0FycmF5KG9iaikpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGwgPSBvYmoubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhvYmpbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBjYWxsYmFjayhrZXksIG9ialtrZXldKTtcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbn1cbiIsIiQuZWFjaChbJ2EnLCAnYicsICdjJ10sIGZ1bmN0aW9uIChlLCBpKSB7XG4gIGNvbnNvbGUubG9nKGUsIGkpO1xufSk7XG5cbiQuZWFjaCh7XG4gIGE6ICdhcHBsZScsXG4gIGI6ICdiYW5hbmEnLFxuICBjOiAnY2hvY29sYXRlJ1xufSwgKGssIHYpID0+IHtcbiAgY29uc29sZS5sb2coaywgdik7XG59KTtcblxuY29uc29sZS5sb2coJCgnYm9keScpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgwKSk7XG4vLyQoJ2JvZHknKS5hZGRDbGFzcygnaG9nZScpO1xuJCgnZGl2JykuZWFjaChmdW5jdGlvbiAoZSwgaSkge1xuICBjb25zb2xlLmxvZyhlKTtcbn0pO1xuXG4vLyQoJ2RpdicpLmFkZENsYXNzKCd6YWFhemF6YXphJyk7XG4kKCdkaXYnKS5yZW1vdmVDbGFzcygnY2NjYyAnKTsiXX0=
