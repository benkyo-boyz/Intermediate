(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
'use strict';

(function () {
  var $, Core, rtrim;

  $ = function (selector, context) {
    return new Core(selector, context);
  };

  $.isArray = require('./isArray');

  $.each = require('./each');

  Core = function (selector, context) {
    var elems;
    context = context || document;
    elems = context.querySelectorAll(selector);
    Array.prototype.push.apply(this, elems);
    this.context = context;
    this.selector = selector;
    return this;
  };

  rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

  Core.prototype = {
    trim: function trim(text) {
      var rtext;
      rtext = '';
      if (text !== null) {
        rtext = (text + '').replace(rtrim, '');
      }
      return rtext;
    },
    addClass: function addClass(value) {
      var cName, classArr, i, k, len;
      value = this.trim(value);
      for (k = 0, len = this.length; k < len; k++) {
        i = this[k];
        cName = this.trim(i.className);
        classArr = cName.split(' ');
        if (classArr.indexOf(value) > -1) {
          continue;
        }
        if (classArr[0] === '') {
          classArr[0] = value;
        } else {
          classArr.push(value);
        }
        i.className = classArr.length === 1 ? classArr[0] : classArr.join(' ');
      }
      console.log(this.get(0).className);
      return this;
    },
    removeClass: function removeClass(value) {
      var cName, classArr, i, j, k, len, len1, m, needClassArr;
      value = this.trim(value);
      for (k = 0, len = this.length; k < len; k++) {
        i = this[k];
        cName = this.trim(i.className);
        classArr = cName.split(' ');
        if (classArr.indexOf(value) === -1) {
          continue;
        }
        needClassArr = [];
        for (m = 0, len1 = classArr.length; m < len1; m++) {
          j = classArr[m];
          if (j !== value && j !== '') {
            needClassArr.push(j);
          }
        }
        i.className = needClassArr.join(' ');
      }
      return this;
    },
    toggleClass: function toggleClass(value) {
      var cName, classArr, i, k, len;
      value = this.trim(value);
      for (k = 0, len = this.length; k < len; k++) {
        i = this[k];
        cName = this.trim(i.className);
        classArr = cName.split(' ');
        if (classArr.indexOf(value) === -1) {
          this.addClass(value);
        } else {
          this.removeClass(value);
        }
      }
      return this;
    },
    hasClass: function hasClass(value) {
      var classArr, flag, i, k, len;
      value = this.trim(value);
      flag = false;
      for (k = 0, len = this.length; k < len; k++) {
        i = this[k];
        classArr = i.className.split(' ');
        if (classArr.indexOf(value) > -1) {
          flag = true;
          break;
        }
      }
      return flag;
    },
    each: function each(callback) {
      var i, k, l, ref;
      i = 0;
      l = this.length;
      for (i = k = 0, ref = l; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
        callback.call(this, this[i], i);
      }
    },
    get: function get(index) {
      var i, k, l, ref, ret;
      ret = [];
      l = this.length;
      for (i = k = 0, ref = l; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
        ret.push(this[i]);
      }
      if (typeof index === 'number') {
        ret = ret[index];
      }
      return ret;
    },
    splice: Array.prototype.splice
  };

  window.$ = $;

  require('./test');

  return;
}).call(undefined);

//# sourceMappingURL=jquery.js.map

},{"./each":2,"./isArray":3,"./test":4}],2:[function(require,module,exports){
"use strict";

module.exports = function (obj, callback) {
  if ($.isArray(obj)) {
    var i = 0,
        l = obj.length;
    for (; i < l; i++) {
      callback(obj[i], i);
    }
  } else {
    for (var key in obj) {
      callback(key, obj[key]);
    }
  }
};

},{}],3:[function(require,module,exports){
"use strict";

module.exports = function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

},{}],4:[function(require,module,exports){
'use strict';

$.each(['a', 'b', 'c'], function (e, i) {
  console.log(e, i);
});

$.each({
  a: 'apple',
  b: 'banana',
  c: 'chocolate'
}, function (k, v) {
  console.log(k, v);
});

console.log($('body'));
console.log($('div'));
console.log($('div').get());
console.log($('div').get(0));
//$('body').addClass('hoge');
$('div').each(function (e, i) {
  console.log(e);
});

$('#e').removeClass('hoge');

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZmFiL0dpdGh1Yi9zdHVkeV9qcXVlcnkvc3JjL2pxdWVyeS5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvZWFjaC5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvaXNBcnJheS5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQ0NBLENBQUMsWUFBVztBQUNWLE1BQUksQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUM7O0FBRW5CLEdBQUMsR0FBRyxVQUFTLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDOUIsV0FBTyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDcEMsQ0FBQzs7QUFFRixHQUFDLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQzs7QUFFakMsR0FBQyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTNCLE1BQUksR0FBRyxVQUFTLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDakMsUUFBSSxLQUFLLENBQUM7QUFDVixXQUFPLEdBQUcsT0FBTyxJQUFJLFFBQVEsQ0FBQztBQUM5QixTQUFLLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzNDLFNBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDeEMsUUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDdkIsUUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDekIsV0FBTyxJQUFJLENBQUM7R0FDYixDQUFDOztBQUVGLE9B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QyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuM1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgJCwgQ29yZSwgcnRyaW07XG5cbiAgJCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBDb3JlKHNlbGVjdG9yLCBjb250ZXh0KTtcbiAgfTtcblxuICAkLmlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKTtcblxuICAkLmVhY2ggPSByZXF1aXJlKCcuL2VhY2gnKTtcblxuICBDb3JlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgZWxlbXM7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gICAgZWxlbXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMsIGVsZW1zKTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxuICBDb3JlLnByb3RvdHlwZSA9IHtcbiAgICB0cmltOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB2YXIgcnRleHQ7XG4gICAgICBydGV4dCA9IFwiXCI7XG4gICAgICBpZiAodGV4dCAhPT0gbnVsbCkge1xuICAgICAgICBydGV4dCA9ICh0ZXh0ICsgXCJcIikucmVwbGFjZShydHJpbSwgXCJcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcnRleHQ7XG4gICAgfSxcbiAgICBhZGRDbGFzczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjTmFtZSwgY2xhc3NBcnIsIGksIGssIGxlbjtcbiAgICAgIHZhbHVlID0gdGhpcy50cmltKHZhbHVlKTtcbiAgICAgIGZvciAoayA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgICAgaSA9IHRoaXNba107XG4gICAgICAgIGNOYW1lID0gdGhpcy50cmltKGkuY2xhc3NOYW1lKTtcbiAgICAgICAgY2xhc3NBcnIgPSBjTmFtZS5zcGxpdChcIiBcIik7XG4gICAgICAgIGlmIChjbGFzc0Fyci5pbmRleE9mKHZhbHVlKSA+IC0xKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsYXNzQXJyWzBdID09PSBcIlwiKSB7XG4gICAgICAgICAgY2xhc3NBcnJbMF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGFzc0Fyci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpLmNsYXNzTmFtZSA9IGNsYXNzQXJyLmxlbmd0aCA9PT0gMSA/IGNsYXNzQXJyWzBdIDogY2xhc3NBcnIuam9pbihcIiBcIik7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmdldCgwKS5jbGFzc05hbWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjTmFtZSwgY2xhc3NBcnIsIGksIGosIGssIGxlbiwgbGVuMSwgbSwgbmVlZENsYXNzQXJyO1xuICAgICAgdmFsdWUgPSB0aGlzLnRyaW0odmFsdWUpO1xuICAgICAgZm9yIChrID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xuICAgICAgICBpID0gdGhpc1trXTtcbiAgICAgICAgY05hbWUgPSB0aGlzLnRyaW0oaS5jbGFzc05hbWUpO1xuICAgICAgICBjbGFzc0FyciA9IGNOYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKGNsYXNzQXJyLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG5lZWRDbGFzc0FyciA9IFtdO1xuICAgICAgICBmb3IgKG0gPSAwLCBsZW4xID0gY2xhc3NBcnIubGVuZ3RoOyBtIDwgbGVuMTsgbSsrKSB7XG4gICAgICAgICAgaiA9IGNsYXNzQXJyW21dO1xuICAgICAgICAgIGlmIChqICE9PSB2YWx1ZSAmJiBqICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBuZWVkQ2xhc3NBcnIucHVzaChqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaS5jbGFzc05hbWUgPSBuZWVkQ2xhc3NBcnIuam9pbihcIiBcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNOYW1lLCBjbGFzc0FyciwgaSwgaywgbGVuO1xuICAgICAgdmFsdWUgPSB0aGlzLnRyaW0odmFsdWUpO1xuICAgICAgZm9yIChrID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xuICAgICAgICBpID0gdGhpc1trXTtcbiAgICAgICAgY05hbWUgPSB0aGlzLnRyaW0oaS5jbGFzc05hbWUpO1xuICAgICAgICBjbGFzc0FyciA9IGNOYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKGNsYXNzQXJyLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgIHRoaXMuYWRkQ2xhc3ModmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGhhc0NsYXNzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNsYXNzQXJyLCBmbGFnLCBpLCBrLCBsZW47XG4gICAgICB2YWx1ZSA9IHRoaXMudHJpbSh2YWx1ZSk7XG4gICAgICBmbGFnID0gZmFsc2U7XG4gICAgICBmb3IgKGsgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgIGkgPSB0aGlzW2tdO1xuICAgICAgICBjbGFzc0FyciA9IGkuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKGNsYXNzQXJyLmluZGV4T2YodmFsdWUpID4gLTEpIHtcbiAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZsYWc7XG4gICAgfSxcbiAgICBlYWNoOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgdmFyIGksIGssIGwsIHJlZjtcbiAgICAgIGkgPSAwO1xuICAgICAgbCA9IHRoaXMubGVuZ3RoO1xuICAgICAgZm9yIChpID0gayA9IDAsIHJlZiA9IGw7IDAgPD0gcmVmID8gayA8PSByZWYgOiBrID49IHJlZjsgaSA9IDAgPD0gcmVmID8gKytrIDogLS1rKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpc1tpXSwgaSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICB2YXIgaSwgaywgbCwgcmVmLCByZXQ7XG4gICAgICByZXQgPSBbXTtcbiAgICAgIGwgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGZvciAoaSA9IGsgPSAwLCByZWYgPSBsOyAwIDw9IHJlZiA/IGsgPD0gcmVmIDogayA+PSByZWY7IGkgPSAwIDw9IHJlZiA/ICsrayA6IC0taykge1xuICAgICAgICByZXQucHVzaCh0aGlzW2ldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldCA9IHJldFtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG4gICAgc3BsaWNlOiBBcnJheS5wcm90b3R5cGUuc3BsaWNlXG4gIH07XG5cbiAgd2luZG93LiQgPSAkO1xuXG4gIHJlcXVpcmUoJy4vdGVzdCcpO1xuXG4gIHJldHVybjtcblxufSkuY2FsbCh0aGlzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LmpzLm1hcFxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAoJC5pc0FycmF5KG9iaikpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGwgPSBvYmoubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhvYmpbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBjYWxsYmFjayhrZXksIG9ialtrZXldKTtcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbn1cbiIsIiQuZWFjaChbJ2EnLCAnYicsICdjJ10sIGZ1bmN0aW9uIChlLCBpKSB7XG4gIGNvbnNvbGUubG9nKGUsIGkpO1xufSk7XG5cbiQuZWFjaCh7XG4gIGE6ICdhcHBsZScsXG4gIGI6ICdiYW5hbmEnLFxuICBjOiAnY2hvY29sYXRlJ1xufSwgKGssIHYpID0+IHtcbiAgY29uc29sZS5sb2coaywgdik7XG59KTtcblxuY29uc29sZS5sb2coJCgnYm9keScpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgpKTtcbmNvbnNvbGUubG9nKCQoJ2RpdicpLmdldCgwKSk7XG4vLyQoJ2JvZHknKS5hZGRDbGFzcygnaG9nZScpO1xuJCgnZGl2JykuZWFjaChmdW5jdGlvbiAoZSwgaSkge1xuICBjb25zb2xlLmxvZyhlKTtcbn0pO1xuXG4kKFwiI2VcIikucmVtb3ZlQ2xhc3MoXCJob2dlXCIpOyJdfQ==
