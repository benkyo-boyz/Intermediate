(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
'use strict';

(function () {
  var $, Core;

  $ = function (selector, context) {
    return new Core(selector, context);
  };

  $.isArray = require('./isArray');

  $.each = require('./each');

  Core = function (selector, context) {
    var elems;
    context = context || document;
    elems = context.querySelectorAll(selector);
    Array.prototype.push.apply(this, elems);
    this.context = context;
    this.selector = selector;
    return this;
  };

  Core.prototype = {
    addClass: function addClass(cName) {
      var arr, i, j, len, results;
      results = [];
      for (j = 0, len = this.length; j < len; j++) {
        i = this[j];
        arr = i.className.split(' ');
        if (arr.indexOf(cName) > -1) {
          continue;
        }
        if (arr[0] === '') {
          arr[0] = cName;
        } else {
          arr.push(cName);
        }
        results.push(i.className = arr.length === 1 ? arr[0] : arr.join(' '));
      }
      return results;
    },
    removeClass: function removeClass(cName) {
      var arr, c, classArray, i, j, k, len, len1, results;
      results = [];
      for (j = 0, len = this.length; j < len; j++) {
        i = this[j];
        arr = i.className.split(' ');
        if (arr.indexOf(cName) === -1) {
          continue;
        }
        classArray = [];
        for (k = 0, len1 = arr.length; k < len1; k++) {
          c = arr[k];
          if (c !== cName && c !== '') {
            classArray.push(c);
          }
        }
        results.push(i.className = classArray.join(' '));
      }
      return results;
    },
    hasClass: function hasClass(cName) {
      var arr, i, j, len;
      for (j = 0, len = this.length; j < len; j++) {
        i = this[j];
        arr = i.className.split(' ');
        if (arr.indexOf(cName) > -1) {
          return true;
        }
      }
      return false;
    },
    each: function each(callback) {
      var i, j, l, ref;
      i = 0;
      l = this.length;
      for (i = j = 0, ref = l; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
        callback.call(this, this[i], i);
      }
    },
    get: function get(index) {
      var i, j, l, ref, ret;
      ret = [];
      l = this.length;
      for (i = j = 0, ref = l; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
        ret.push(this[i]);
      }
      if (typeof index === 'number') {
        ret = ret[index];
      }
      return ret;
    },
    splice: Array.prototype.splice
  };

  window.$ = $;

  require('./test');

  return;
}).call(undefined);

//# sourceMappingURL=jquery.js.map

},{"./each":2,"./isArray":3,"./test":4}],2:[function(require,module,exports){
"use strict";

module.exports = function (obj, callback) {
  if ($.isArray(obj)) {
    var i = 0,
        l = obj.length;
    for (; i < l; i++) {
      callback(obj[i], i);
    }
  } else {
    for (var key in obj) {
      callback(key, obj[key]);
    }
  }
};

},{}],3:[function(require,module,exports){
"use strict";

module.exports = function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

},{}],4:[function(require,module,exports){
'use strict';

$.each(['a', 'b', 'c'], function (e, i) {
  console.log(e, i);
});

$.each({
  a: 'apple',
  b: 'banana',
  c: 'chocolate'
}, function (k, v) {
  console.log(k, v);
});

console.log($('body'));
console.log($('div'));
console.log($('div').get());
console.log($('div').get(0));
//$('body').addClass('hoge');
$('div').each(function (e, i) {
  console.log(e);
});

$('#e').removeClass('hoge');

$("div").addClass(" ccc");

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZmFiL0dpdGh1Yi9zdHVkeV9qcXVlcnkvc3JjL2pxdWVyeS5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvZWFjaC5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvaXNBcnJheS5qcyIsIi9Vc2Vycy9mYWIvR2l0aHViL3N0dWR5X2pxdWVyeS9zcmMvdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQ0NBLENBQUMsWUFBVztBQUNWLE1BQUksQ0FBQyxFQUFFLElBQUksQ0FBQzs7QUFFWixHQUFDLEdBQUcsVUFBUyxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQzlCLFdBQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ3BDLENBQUM7O0FBRUYsR0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRWpDLEdBQUMsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUUzQixNQUFJLEdBQUcsVUFBUyxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ2pDLFFBQUksS0FBSyxDQUFDO0FBQ1YsV0FBTyxHQUFHLE9BQU8sSUFBSSxRQUFRLENBQUM7QUFDOUIsU0FBSyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMzQyxTQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3hDLFFBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQ3ZCLFFBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQzs7QUFFRixNQUFJLENBQUMsU0FB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Q0FBQyxFQUFFLENBQUMsRUFBRTtBQUN0QyxTQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztDQUNuQixDQUFDLENBQUM7O0FBRUgsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNMLEdBQUMsRUFBRSxPQUFPO0FBQ1YsR0FBQyxFQUFFLFFBQVE7QUFDWCxHQUFDLEVBQUUsV0FBVztDQUNmLEVBQUUsVUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFLO0FBQ1gsU0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDbkIsQ0FBQyxDQUFDOztBQUVILE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUU3QixDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUM1QixTQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2hCLENBQUMsQ0FBQzs7QUFFSCxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjNcbihmdW5jdGlvbigpIHtcbiAgdmFyICQsIENvcmU7XG5cbiAgJCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBDb3JlKHNlbGVjdG9yLCBjb250ZXh0KTtcbiAgfTtcblxuICAkLmlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKTtcblxuICAkLmVhY2ggPSByZXF1aXJlKCcuL2VhY2gnKTtcblxuICBDb3JlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgZWxlbXM7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gICAgZWxlbXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMsIGVsZW1zKTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBDb3JlLnByb3RvdHlwZSA9IHtcbiAgICBhZGRDbGFzczogZnVuY3Rpb24oY05hbWUpIHtcbiAgICAgIHZhciBhcnIsIGksIGosIGxlbiwgcmVzdWx0cztcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgaSA9IHRoaXNbal07XG4gICAgICAgIGFyciA9IGkuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKGFyci5pbmRleE9mKGNOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyclswXSA9PT0gXCJcIikge1xuICAgICAgICAgIGFyclswXSA9IGNOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyci5wdXNoKGNOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goaS5jbGFzc05hbWUgPSBhcnIubGVuZ3RoID09PSAxID8gYXJyWzBdIDogYXJyLmpvaW4oXCIgXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGNOYW1lKSB7XG4gICAgICB2YXIgYXJyLCBjLCBjbGFzc0FycmF5LCBpLCBqLCBrLCBsZW4sIGxlbjEsIHJlc3VsdHM7XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGkgPSB0aGlzW2pdO1xuICAgICAgICBhcnIgPSBpLmNsYXNzTmFtZS5zcGxpdChcIiBcIik7XG4gICAgICAgIGlmIChhcnIuaW5kZXhPZihjTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gYXJyLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgIGMgPSBhcnJba107XG4gICAgICAgICAgaWYgKGMgIT09IGNOYW1lICYmIGMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNsYXNzQXJyYXkucHVzaChjKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKGkuY2xhc3NOYW1lID0gY2xhc3NBcnJheS5qb2luKFwiIFwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9LFxuICAgIGhhc0NsYXNzOiBmdW5jdGlvbihjTmFtZSkge1xuICAgICAgdmFyIGFyciwgaSwgaiwgbGVuO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBpID0gdGhpc1tqXTtcbiAgICAgICAgYXJyID0gaS5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO1xuICAgICAgICBpZiAoYXJyLmluZGV4T2YoY05hbWUpID4gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZWFjaDogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHZhciBpLCBqLCBsLCByZWY7XG4gICAgICBpID0gMDtcbiAgICAgIGwgPSB0aGlzLmxlbmd0aDtcbiAgICAgIGZvciAoaSA9IGogPSAwLCByZWYgPSBsOyAwIDw9IHJlZiA/IGogPD0gcmVmIDogaiA+PSByZWY7IGkgPSAwIDw9IHJlZiA/ICsraiA6IC0taikge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXNbaV0sIGkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgdmFyIGksIGosIGwsIHJlZiwgcmV0O1xuICAgICAgcmV0ID0gW107XG4gICAgICBsID0gdGhpcy5sZW5ndGg7XG4gICAgICBmb3IgKGkgPSBqID0gMCwgcmVmID0gbDsgMCA8PSByZWYgPyBqIDw9IHJlZiA6IGogPj0gcmVmOyBpID0gMCA8PSByZWYgPyArK2ogOiAtLWopIHtcbiAgICAgICAgcmV0LnB1c2godGhpc1tpXSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXQgPSByZXRbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIHNwbGljZTogQXJyYXkucHJvdG90eXBlLnNwbGljZVxuICB9O1xuXG4gIHdpbmRvdy4kID0gJDtcblxuICByZXF1aXJlKCcuL3Rlc3QnKTtcblxuICByZXR1cm47XG5cbn0pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5qcy5tYXBcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgY2FsbGJhY2spIHtcbiAgaWYgKCQuaXNBcnJheShvYmopKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBsID0gb2JqLmxlbmd0aDtcbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgY2FsbGJhY2sob2JqW2ldLCBpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgY2FsbGJhY2soa2V5LCBvYmpba2V5XSk7XG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XG59XG4iLCIkLmVhY2goWydhJywgJ2InLCAnYyddLCBmdW5jdGlvbiAoZSwgaSkge1xuICBjb25zb2xlLmxvZyhlLCBpKTtcbn0pO1xuXG4kLmVhY2goe1xuICBhOiAnYXBwbGUnLFxuICBiOiAnYmFuYW5hJyxcbiAgYzogJ2Nob2NvbGF0ZSdcbn0sIChrLCB2KSA9PiB7XG4gIGNvbnNvbGUubG9nKGssIHYpO1xufSk7XG5cbmNvbnNvbGUubG9nKCQoJ2JvZHknKSk7XG5jb25zb2xlLmxvZygkKCdkaXYnKSk7XG5jb25zb2xlLmxvZygkKCdkaXYnKS5nZXQoKSk7XG5jb25zb2xlLmxvZygkKCdkaXYnKS5nZXQoMCkpO1xuLy8kKCdib2R5JykuYWRkQ2xhc3MoJ2hvZ2UnKTtcbiQoJ2RpdicpLmVhY2goZnVuY3Rpb24gKGUsIGkpIHtcbiAgY29uc29sZS5sb2coZSk7XG59KTtcblxuJChcIiNlXCIpLnJlbW92ZUNsYXNzKFwiaG9nZVwiKTsiXX0=
